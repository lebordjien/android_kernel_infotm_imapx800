/*------------------------------------------------------------------------------
-- 	Copyright (c) 2009~2014 ShangHai Infotm Ltd all rights reserved. 		  --
-- 				   															  --
-- 	This program is free software; you can redistribute it and/or modify	  --
-- 	it under the terms of the GNU General Public License as published by	  --
-- 	the Free Software Foundation; either version 2 of the License, or		  --
-- 	(at your option) any later version.							              --
--------------------------------------------------------------------------------
--	RCSfile: ov5650_mipi.h
--
--  Description :
--
--	Author:
--     Arsor Fu   <arsor.fu@infotmic.com.cn>
--
--------------------------------------------------------------------------------
-- Revision History: 
-------------------- 
-- v1.0.1	arsor@2012/10/19: first commit.
--
------------------------------------------------------------------------------*/

#define OV5650_I2C_ADDR                (0x6C>>1)

#define REG_ADDR_STEP 2
#define REG_DATA_STEP 1

#define REG_STEP 			(REG_ADDR_STEP+REG_DATA_STEP)


static struct ov5650_regval_list {
	IM_UINT8 reg_num[REG_ADDR_STEP]; //0:high_8bits, 1:low_8bits
	IM_UINT8 value[REG_DATA_STEP];
};

static struct ov5650_regval_list  ov5650_init_regs[] = {
    //MIPI Reference Settings
    //Global setting
    {{0x30,0x08},{0x82}},
    {{0xff,0xff},{0x05}},//delay 5ms
    {{0x30,0x08},{0x42}},
    {{0x31,0x03},{0x93}},
    {{0x3b,0x07},{0x0c}},
    {{0x30,0x17},{0xff}},
    {{0x30,0x18},{0xfc}},
    {{0x37,0x06},{0x41}},
    {{0x36,0x30},{0x22}},
    {{0x36,0x05},{0x04}},
    {{0x36,0x06},{0x3f}},
    {{0x37,0x12},{0x13}},
    {{0x37,0x0e},{0x00}},
    {{0x37,0x0b},{0x40}},
    {{0x36,0x00},{0x54}},
    {{0x36,0x01},{0x05}},
    {{0x37,0x13},{0x22}},
    {{0x37,0x14},{0x27}},
    {{0x36,0x31},{0x22}},
    {{0x36,0x12},{0x1a}},
    {{0x36,0x04},{0x40}},
    {{0x37,0x10},{0x28}},
    {{0x37,0x02},{0x3a}},
    {{0x37,0x04},{0x18}},
    {{0x3a,0x18},{0x00}},
    {{0x3a,0x19},{0xf8}},
    {{0x3a,0x00},{0x38}},
    {{0x38,0x0c},{0x0c}},
    {{0x38,0x0d},{0xb4}},
    {{0x38,0x0e},{0x07}},
    {{0x38,0x0f},{0xb0}},
    {{0x38,0x30},{0x50}},
    {{0x3a,0x08},{0x12}},
    {{0x3a,0x09},{0x70}},
    {{0x3a,0x0a},{0x0f}},
    {{0x3a,0x0b},{0x60}},
    {{0x3a,0x0d},{0x06}},
    {{0x3a,0x0e},{0x06}},
    {{0x3a,0x13},{0x54}},
    {{0x38,0x15},{0x82}},
    {{0x50,0x59},{0x80}},
    {{0x36,0x15},{0x52}},
    {{0x50,0x5a},{0x0a}},
    {{0x50,0x5b},{0x2e}},
    {{0x38,0x26},{0x00}},
    {{0x3a,0x1a},{0x06}},
    {{0x35,0x03},{0x00}},
    {{0x36,0x23},{0x01}},
    {{0x36,0x33},{0x24}},
    {{0x3c,0x01},{0x34}},
    {{0x3c,0x04},{0x28}},
    {{0x3c,0x05},{0x98}},
    {{0x3c,0x07},{0x07}},
    {{0x3c,0x09},{0xc2}},
    {{0x40,0x00},{0x05}},
    {{0x40,0x01},{0x02}},
    {{0x50,0x46},{0x01}},
    {{0x38,0x10},{0x40}},
    {{0x38,0x36},{0x41}},
    {{0x50,0x5f},{0x04}},
    {{0x50,0x00},{0x00}},
    {{0x50,0x01},{0x00}},
    {{0x50,0x3d},{0x00}},
    {{0x58,0x5a},{0x01}},
    {{0x58,0x5b},{0x2c}},
    {{0x58,0x5c},{0x01}},
    {{0x58,0x5d},{0x93}},
    {{0x58,0x5e},{0x01}},
    {{0x58,0x5f},{0x90}},
    {{0x58,0x60},{0x01}},
    {{0x58,0x61},{0x0d}},
    {{0x51,0x80},{0xc0}},
    {{0x51,0x84},{0x00}},
    {{0x47,0x0a},{0x00}},
    {{0x47,0x0b},{0x00}},
    {{0x47,0x0c},{0x00}},
    {{0x30,0x0f},{0x8e}},
    {{0x36,0x03},{0xa7}},
    {{0x36,0x32},{0x55}},
    {{0x36,0x20},{0x56}},
    {{0x36,0x31},{0x36}},
    {{0x36,0x32},{0x5f}},
    {{0x37,0x11},{0x24}},
    {{0x40,0x1f},{0x03}},
    {{0x3a,0x0f},{0x78}},
    {{0x3a,0x10},{0x68}},
    {{0x3a,0x1b},{0x78}},
    {{0x3a,0x1e},{0x68}},
    {{0x3a,0x11},{0xd0}},
    {{0x3a,0x1f},{0x40}},
    {{0x35,0x03},{0x03}},//manual AE AGC
    {{0x35,0x01},{0x11}},
    {{0x35,0x02},{0x90}},
    {{0x35,0x0b},{0x7f}},
    {{0x50,0x01},{0x01}},//manual AWB
    {{0x50,0x46},{0x09}},
    {{0x34,0x06},{0x01}},
    {{0x34,0x00},{0x04}},
    {{0x34,0x01},{0x00}},
    {{0x34,0x02},{0x04}},
    {{0x34,0x03},{0x00}},
    {{0x34,0x04},{0x04}},
    {{0x34,0x05},{0x00}},
    {{0x50,0x00},{0x06}},//lenc off,wbc on

    //mipi setting
    {{0x30,0x11},{0x14}},
    {{0x30,0x07},{0x3B}},
    {{0x48,0x01},{0x0f}},
    {{0x30,0x03},{0x03}},
    {{0x30,0x0e},{0x0c}},
    {{0x48,0x03},{0x50}},
    {{0x48,0x00},{0x24}},//0x04--continue clock, 0x24--gate clock/non-continue clock
    //{{0x30,0x2d},{0x10}},//Driving strength:0x00/0x10/0x20/0x30
    {{0x30,0x0f},{0x8f}},
    {{0x38,0x15},{0x82}},
    {{0x30,0x03},{0x01}},
    {{0x30,0x08},{0x02}},

    //320x240, 2 lane 10bit 120fps 80mbps/lane Reference Setting
    {{0x30,0x08},{0x42}},
    {{0x36,0x13},{0xc4}},
    {{0x37,0x0d},{0xc2}},
    {{0x37,0x03},{0x9a}},
    {{0x37,0x05},{0xdc}},
    {{0x37,0x0a},{0x83}},
    {{0x37,0x0c},{0xc8}},
    {{0x38,0x00},{0x02}},
    {{0x38,0x01},{0x54}},
    {{0x38,0x03},{0x0c}},
    {{0x37,0x03},{0x9a}},
    {{0x37,0x13},{0x92}},
    {{0x37,0x14},{0x17}},
    {{0x38,0x03},{0x0a}},
    {{0x38,0x04},{0x05}},
    {{0x38,0x05},{0x00}},
    {{0x38,0x06},{0x00}},
    {{0x38,0x07},{0xf0}},
    {{0x38,0x08},{0x01}},
    {{0x38,0x09},{0x40}},
    {{0x38,0x0a},{0x00}},
    {{0x38,0x0b},{0xf0}},
    {{0x38,0x0c},{0x0a}},
    {{0x38,0x0d},{0x04}},
    {{0x38,0x0e},{0x01}},
    {{0x38,0x0f},{0x38}},
    {{0x38,0x15},{0x81}},
    {{0x38,0x01},{0x54}},
    {{0x38,0x1c},{0x20}},
    {{0x38,0x1d},{0x0a}},
    {{0x38,0x1e},{0x01}},
    {{0x38,0x1f},{0x20}},
    {{0x38,0x20},{0x00}},
    {{0x38,0x21},{0x00}},
    {{0x38,0x24},{0x23}},
    {{0x38,0x25},{0x20}},
    {{0x38,0x27},{0x08}},
    {{0x3a,0x08},{0x17}},
    {{0x3a,0x09},{0x64}},
    {{0x3a,0x0a},{0x13}},
    {{0x3a,0x0b},{0x80}},
    {{0x3a,0x0d},{0x06}},
    {{0x3a,0x0e},{0x06}},
    {{0x3a,0x00},{0x58}},
    {{0x40,0x1d},{0x28}},
    {{0x40,0x1c},{0x42}},
    {{0x50,0x02},{0x02}},
    {{0x59,0x01},{0x08}},
    {{0x36,0x21},{0xaf}},
    {{0x38,0x1a},{0x00}},
    {{0x38,0x18},{0xc3}},
    {{0x30,0x10},{0x15}},
    {{0x30,0x11},{0x14}},
    {{0x30,0x08},{0x02}},
};

//for video
static struct ov5650_regval_list  ov5650_pv_qvga_regs[] = {
    //320x240, 2 lane 10bit 120fps 80mbps/lane Reference Setting
    {{0x30,0x08},{0x42}},
    {{0x36,0x13},{0xc4}},
    {{0x37,0x0d},{0xc2}},
    {{0x37,0x03},{0x9a}},
    {{0x37,0x05},{0xdc}},
    {{0x37,0x0a},{0x83}},
    {{0x37,0x0c},{0xc8}},
    {{0x38,0x00},{0x02}},
    {{0x38,0x01},{0x54}},
    {{0x38,0x03},{0x0c}},
    {{0x37,0x03},{0x9a}},
    {{0x37,0x13},{0x92}},
    {{0x37,0x14},{0x17}},
    {{0x38,0x03},{0x0a}},
    {{0x38,0x04},{0x05}},
    {{0x38,0x05},{0x00}},
    {{0x38,0x06},{0x00}},
    {{0x38,0x07},{0xf0}},
    {{0x38,0x08},{0x01}},
    {{0x38,0x09},{0x40}},
    {{0x38,0x0a},{0x00}},
    {{0x38,0x0b},{0xf0}},
    {{0x38,0x0c},{0x0a}},
    {{0x38,0x0d},{0x04}},
    {{0x38,0x0e},{0x01}},
    {{0x38,0x0f},{0x38}},
    {{0x38,0x15},{0x81}},
    {{0x38,0x01},{0x54}},
    {{0x38,0x1c},{0x20}},
    {{0x38,0x1d},{0x0a}},
    {{0x38,0x1e},{0x01}},
    {{0x38,0x1f},{0x20}},
    {{0x38,0x20},{0x00}},
    {{0x38,0x21},{0x00}},
    {{0x38,0x24},{0x23}},
    {{0x38,0x25},{0x20}},
    {{0x38,0x27},{0x08}},
    {{0x3a,0x08},{0x17}},
    {{0x3a,0x09},{0x64}},
    {{0x3a,0x0a},{0x13}},
    {{0x3a,0x0b},{0x80}},
    {{0x3a,0x0d},{0x06}},
    {{0x3a,0x0e},{0x06}},
    {{0x3a,0x00},{0x58}},
    {{0x40,0x1d},{0x28}},
    {{0x40,0x1c},{0x42}},
    {{0x50,0x02},{0x02}},
    {{0x59,0x01},{0x08}},
    {{0x36,0x21},{0xaf}},
    {{0x38,0x1a},{0x00}},
    {{0x38,0x18},{0xc3}},
    {{0x30,0x10},{0x15}},
    {{0x30,0x11},{0x14}},
    {{0x30,0x08},{0x02}},
};

static struct ov5650_regval_list  ov5650_pv_vga_regs[] = {
};

static struct ov5650_regval_list  ov5650_pv_720p_regs[] = {
};

static struct ov5650_regval_list  ov5650_pv_1080p_regs[] = {
};

//for capture
static struct ov5650_regval_list  ov5650_ca_qsxga_regs[] = {
    //2592x1944, 2 lane 10bit 15fps 480mbps/lane Reference Setting
    {{0x30,0x08},{0x42}},
    {{0x36,0x13},{0x44}},
    {{0x37,0x0d},{0x04}},
    {{0x37,0x03},{0xe6}},
    {{0x37,0x05},{0xda}},
    {{0x37,0x0a},{0x80}},
    {{0x37,0x0c},{0x00}},
    {{0x38,0x00},{0x02}},
    {{0x38,0x01},{0x54}},
    {{0x38,0x03},{0x0c}},
    {{0x37,0x03},{0xe6}},
    {{0x37,0x13},{0x22}},
    {{0x37,0x14},{0x27}},
    {{0x38,0x03},{0x0c}},
    {{0x38,0x04},{0x0a}},
    {{0x38,0x05},{0x20}},
    {{0x38,0x06},{0x07}},
    {{0x38,0x07},{0x98}},
    {{0x38,0x08},{0x0a}},
    {{0x38,0x09},{0x20}},
    {{0x38,0x0a},{0x07}},
    {{0x38,0x0b},{0x98}},
    {{0x38,0x0c},{0x0c}},
    {{0x38,0x0d},{0xb4}},
    {{0x38,0x0e},{0x07}},
    {{0x38,0x0f},{0xb0}},
    {{0x38,0x15},{0x82}},
    {{0x38,0x01},{0x54}},
    {{0x38,0x1c},{0x20}},
    {{0x38,0x1d},{0x0a}},
    {{0x38,0x1e},{0x01}},
    {{0x38,0x1f},{0x20}},
    {{0x38,0x20},{0x00}},
    {{0x38,0x21},{0x00}},
    {{0x38,0x24},{0x01}},
    {{0x38,0x25},{0xb4}},
    {{0x38,0x27},{0x0a}},
    {{0x3a,0x08},{0x12}},
    {{0x3a,0x09},{0x70}},
    {{0x3a,0x0a},{0x0f}},
    {{0x3a,0x0b},{0x60}},
    {{0x3a,0x0d},{0x06}},
    {{0x3a,0x0e},{0x06}},
    {{0x3a,0x00},{0x38}},
    {{0x40,0x1d},{0x28}},
    {{0x40,0x1c},{0x46}},
    {{0x50,0x02},{0x00}},
    {{0x59,0x01},{0x00}},
    {{0x36,0x21},{0x2f}},
    {{0x38,0x1a},{0x3c}},
    {{0x38,0x18},{0xc0}},
    {{0x30,0x10},{0x10}},
    {{0x30,0x11},{0x14}},
    {{0x30,0x08},{0x02}},
};

static struct ov5650_regval_list  ov5650_ca_sxga_regs[] = {
    //1296x972, 2 lane 10bit 30fps 336mbps/lane Reference Setting
    {{0x30,0x08},{0x42}},
    {{0x36,0x13},{0xc4}},
    {{0x37,0x0d},{0x42}},
    {{0x37,0x03},{0x9a}},
    {{0x37,0x05},{0xdb}},
    {{0x37,0x0a},{0x81}},
    {{0x37,0x0c},{0x00}},
    {{0x38,0x00},{0x03}},
    {{0x38,0x01},{0x34}},
    {{0x38,0x03},{0x0a}},
    {{0x37,0x03},{0x9a}},
    {{0x37,0x13},{0x92}},
    {{0x37,0x14},{0x17}},
    {{0x38,0x03},{0x0a}},
    {{0x38,0x04},{0x05}},
    {{0x38,0x05},{0x10}},
    {{0x38,0x06},{0x03}},
    {{0x38,0x07},{0xcc}},
    {{0x38,0x08},{0x05}},
    {{0x38,0x09},{0x10/*0x00*/}},
    {{0x38,0x0a},{0x03}},
    {{0x38,0x0b},{0xcc/*0xc0*/}},
    {{0x38,0x0c},{0x08}},
    {{0x38,0x0d},{0x80/*0x78*/}},
    {{0x38,0x0e},{0x04/*0x03*/}},
    {{0x38,0x0f},{0x02/*0xec*/}},
    {{0x38,0x15},{0x81}},
    {{0x38,0x01},{0x34}},
    {{0x38,0x1c},{0x20}},
    {{0x38,0x1d},{0x0a}},
    {{0x38,0x1e},{0x01}},
    {{0x38,0x1f},{0x20}},
    {{0x38,0x20},{0x00}},
    {{0x38,0x21},{0x00}},
    {{0x38,0x24},{0x01}},
    {{0x38,0x25},{0xb4}},
    {{0x38,0x27},{0x0a}},
    {{0x3a,0x08},{0x1b}},
    {{0x3a,0x09},{0xc0}},
    {{0x3a,0x0a},{0x17}},
    {{0x3a,0x0b},{0x20}},
    {{0x3a,0x0d},{0x01}},
    {{0x3a,0x0e},{0x01}},
    {{0x3a,0x00},{0x38}},
    {{0x40,0x1d},{0x08}},
    {{0x40,0x1c},{0x42}},
    {{0x50,0x02},{0x00}},
    {{0x59,0x01},{0x00}},
    {{0x36,0x21},{0xaf}},
    {{0x38,0x18},{0xc1}},
    {{0x38,0x1a},{0x4a}},
    {{0x30,0x10},{0x20}},
    {{0x30,0x11},{0x15}},
    {{0x30,0x08},{0x02}},
};
